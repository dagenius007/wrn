{"ast":null,"code":"var _jsxFileName = \"/Users/joshuaoluikpe/Documents/personal/wrn/src/pages/dashboard/crypto/TradeChart/index.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { format } from 'd3-format';\nimport { timeFormat } from 'd3-time-format';\nimport { ChartCanvas, Chart } from 'react-stockcharts';\nimport { CandlestickSeries, LineSeries } from 'react-stockcharts/lib/series';\nimport { XAxis, YAxis } from 'react-stockcharts/lib/axes';\nimport { CrossHairCursor, EdgeIndicator, CurrentCoordinate, MouseCoordinateX, MouseCoordinateY } from 'react-stockcharts/lib/coordinates';\nimport { LabelAnnotation, Label, Annotate } from 'react-stockcharts/lib/annotation';\nimport { discontinuousTimeScaleProvider } from 'react-stockcharts/lib/scale';\nimport { OHLCTooltip, MovingAverageTooltip } from 'react-stockcharts/lib/tooltip';\nimport { ema } from 'react-stockcharts/lib/indicator';\nimport { fitWidth } from 'react-stockcharts/lib/helper';\nimport { last } from 'react-stockcharts/lib/utils';\n\nclass CandleStickChartWithAnnotation extends React.Component {\n  render() {\n    const annotationProps = {\n      y: ({\n        yScale\n      }) => yScale.range()[0],\n      tooltip: d => timeFormat('%B')(d.date)\n    };\n    const margin = {\n      left: 0,\n      right: 50,\n      top: 10,\n      bottom: 20\n    };\n    const height = 400;\n    const _this$props = this.props,\n          type = _this$props.type,\n          zoomEvent = _this$props.zoomEvent,\n          initialData = _this$props.data,\n          width = _this$props.width,\n          ratio = _this$props.ratio;\n    const gridHeight = height - margin.top - margin.bottom;\n    const gridWidth = width - margin.left - margin.right;\n    const showGrid = true;\n    const xGrid = showGrid ? {\n      innerTickSize: -1 * gridHeight,\n      tickStrokeOpacity: 0.1\n    } : {};\n    const yGrid = showGrid ? {\n      innerTickSize: -1 * gridWidth,\n      tickStrokeOpacity: 0.1\n    } : {};\n    const ema20 = ema().id(0).options({\n      windowSize: 20\n    }).merge((d, c) => {\n      const b = d;\n      b.ema20 = c;\n      return b;\n    }).accessor(d => d.ema20);\n    const ema50 = ema().id(2).options({\n      windowSize: 50\n    }).merge((d, c) => {\n      const b = d;\n      b.ema50 = c;\n      return b;\n    }).accessor(d => d.ema50);\n    const calculatedData = ema20(ema50(initialData));\n    const xScaleProvider = discontinuousTimeScaleProvider.inputDateAccessor(d => d.date);\n\n    const _xScaleProvider = xScaleProvider(calculatedData),\n          data = _xScaleProvider.data,\n          xScale = _xScaleProvider.xScale,\n          xAccessor = _xScaleProvider.xAccessor,\n          displayXAccessor = _xScaleProvider.displayXAccessor;\n\n    const start = xAccessor(last(data));\n    const end = xAccessor(data[Math.max(0, data.length - 150)]);\n    const xExtents = [start, end];\n    return React.createElement(ChartCanvas, {\n      height: height,\n      ratio: ratio,\n      width: width,\n      margin: margin,\n      type: type,\n      seriesName: \"MSFT\",\n      data: data,\n      xScale: xScale,\n      xAccessor: xAccessor,\n      displayXAccessor: displayXAccessor,\n      xExtents: xExtents,\n      zoomEvent: zoomEvent,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(Label, {\n      x: 38,\n      y: 30,\n      fontSize: 18,\n      text: \"BTC-USD\",\n      fontFamily: \"monospace\",\n      fontWeight: \"bold\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(Label, {\n      x: 100,\n      y: 50,\n      fontSize: 12,\n      text: \"Clean UI React Admin Template\",\n      fontFamily: \"monospace\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), React.createElement(Chart, {\n      id: 1,\n      yExtents: [d => [d.high, d.low]],\n      padding: {\n        top: 10,\n        bottom: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(XAxis, Object.assign({\n      axisAt: \"bottom\",\n      orient: \"bottom\"\n    }, xGrid, {\n      zoomEnabled: zoomEvent,\n      fontFamily: \"monospace\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    })), React.createElement(MouseCoordinateX, {\n      fontFamily: \"monospace\",\n      at: \"bottom\",\n      orient: \"bottom\",\n      displayFormat: timeFormat('%Y-%m-%d'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(MouseCoordinateY, {\n      fontFamily: \"monospace\",\n      at: \"right\",\n      orient: \"right\",\n      displayFormat: format('.2f'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }), React.createElement(YAxis, Object.assign({\n      axisAt: \"right\",\n      orient: \"right\",\n      ticks: 5\n    }, yGrid, {\n      zoomEnabled: zoomEvent,\n      fontFamily: \"monospace\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    })), React.createElement(CandlestickSeries, {\n      fill: d => d.close > d.open ? '#c23f3f' : '#06a45b',\n      stroke: d => d.close > d.open ? '#c23f3f' : '#06a45b',\n      opacity: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }), React.createElement(LineSeries, {\n      yAccessor: ema20.accessor(),\n      stroke: ema20.stroke(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }), React.createElement(LineSeries, {\n      yAccessor: ema50.accessor(),\n      stroke: ema50.stroke(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }), React.createElement(CurrentCoordinate, {\n      yAccessor: ema20.accessor(),\n      fill: ema20.stroke(),\n      fontFamily: \"monospace\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }), React.createElement(CurrentCoordinate, {\n      yAccessor: ema50.accessor(),\n      fill: ema50.stroke(),\n      fontFamily: \"monospace\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }), React.createElement(EdgeIndicator, {\n      itemType: \"last\",\n      orient: \"right\",\n      edgeAt: \"right\",\n      fontFamily: \"monospace\",\n      yAccessor: d => d.close,\n      fill: d => d.close > d.open ? '#c23f3f' : '#06a45b',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }), React.createElement(OHLCTooltip, {\n      origin: [0, 0],\n      fontFamily: \"monospace\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }), React.createElement(MovingAverageTooltip, {\n      origin: [5, 60],\n      fontFamily: \"monospace\",\n      options: [{\n        yAccessor: ema20.accessor(),\n        type: ema20.type(),\n        stroke: ema20.stroke(),\n        windowSize: ema20.options().windowSize\n      }, {\n        yAccessor: ema50.accessor(),\n        type: ema50.type(),\n        stroke: ema50.stroke(),\n        windowSize: ema50.options().windowSize\n      }],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }), React.createElement(Annotate, {\n      with: LabelAnnotation,\n      when: d => d.date.getDate() === 1\n      /* some condition */\n      ,\n      usingProps: annotationProps,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    })), React.createElement(CrossHairCursor, {\n      strokeDasharray: \"ShortDash\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }));\n  }\n\n}\n\nCandleStickChartWithAnnotation.propTypes = {\n  data: PropTypes.array.isRequired,\n  width: PropTypes.number.isRequired,\n  ratio: PropTypes.number.isRequired,\n  type: PropTypes.oneOf(['svg', 'hybrid']).isRequired\n};\nexport default fitWidth(CandleStickChartWithAnnotation);","map":{"version":3,"sources":["/Users/joshuaoluikpe/Documents/personal/wrn/src/pages/dashboard/crypto/TradeChart/index.js"],"names":["React","PropTypes","format","timeFormat","ChartCanvas","Chart","CandlestickSeries","LineSeries","XAxis","YAxis","CrossHairCursor","EdgeIndicator","CurrentCoordinate","MouseCoordinateX","MouseCoordinateY","LabelAnnotation","Label","Annotate","discontinuousTimeScaleProvider","OHLCTooltip","MovingAverageTooltip","ema","fitWidth","last","CandleStickChartWithAnnotation","Component","render","annotationProps","y","yScale","range","tooltip","d","date","margin","left","right","top","bottom","height","props","type","zoomEvent","initialData","data","width","ratio","gridHeight","gridWidth","showGrid","xGrid","innerTickSize","tickStrokeOpacity","yGrid","ema20","id","options","windowSize","merge","c","b","accessor","ema50","calculatedData","xScaleProvider","inputDateAccessor","xScale","xAccessor","displayXAccessor","start","end","Math","max","length","xExtents","high","low","close","open","stroke","yAccessor","getDate","propTypes","array","isRequired","number","oneOf"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,MAAT,QAAuB,WAAvB;AACA,SAASC,UAAT,QAA2B,gBAA3B;AACA,SAASC,WAAT,EAAsBC,KAAtB,QAAmC,mBAAnC;AACA,SAASC,iBAAT,EAA4BC,UAA5B,QAA8C,8BAA9C;AACA,SAASC,KAAT,EAAgBC,KAAhB,QAA6B,4BAA7B;AACA,SACEC,eADF,EAEEC,aAFF,EAGEC,iBAHF,EAIEC,gBAJF,EAKEC,gBALF,QAMO,mCANP;AAOA,SAASC,eAAT,EAA0BC,KAA1B,EAAiCC,QAAjC,QAAiD,kCAAjD;AACA,SAASC,8BAAT,QAA+C,6BAA/C;AACA,SAASC,WAAT,EAAsBC,oBAAtB,QAAkD,+BAAlD;AACA,SAASC,GAAT,QAAoB,iCAApB;AACA,SAASC,QAAT,QAAyB,8BAAzB;AACA,SAASC,IAAT,QAAqB,6BAArB;;AAEA,MAAMC,8BAAN,SAA6CxB,KAAK,CAACyB,SAAnD,CAA6D;AAC3DC,EAAAA,MAAM,GAAG;AACP,UAAMC,eAAe,GAAG;AACtBC,MAAAA,CAAC,EAAE,CAAC;AAAEC,QAAAA;AAAF,OAAD,KAAgBA,MAAM,CAACC,KAAP,GAAe,CAAf,CADG;AAEtBC,MAAAA,OAAO,EAAEC,CAAC,IAAI7B,UAAU,CAAC,IAAD,CAAV,CAAiB6B,CAAC,CAACC,IAAnB;AAFQ,KAAxB;AAKA,UAAMC,MAAM,GAAG;AAAEC,MAAAA,IAAI,EAAE,CAAR;AAAWC,MAAAA,KAAK,EAAE,EAAlB;AAAsBC,MAAAA,GAAG,EAAE,EAA3B;AAA+BC,MAAAA,MAAM,EAAE;AAAvC,KAAf;AACA,UAAMC,MAAM,GAAG,GAAf;AAPO,wBAQsD,KAAKC,KAR3D;AAAA,UAQCC,IARD,eAQCA,IARD;AAAA,UAQOC,SARP,eAQOA,SARP;AAAA,UAQwBC,WARxB,eAQkBC,IARlB;AAAA,UAQqCC,KARrC,eAQqCA,KARrC;AAAA,UAQ4CC,KAR5C,eAQ4CA,KAR5C;AASP,UAAMC,UAAU,GAAGR,MAAM,GAAGL,MAAM,CAACG,GAAhB,GAAsBH,MAAM,CAACI,MAAhD;AACA,UAAMU,SAAS,GAAGH,KAAK,GAAGX,MAAM,CAACC,IAAf,GAAsBD,MAAM,CAACE,KAA/C;AAEA,UAAMa,QAAQ,GAAG,IAAjB;AACA,UAAMC,KAAK,GAAGD,QAAQ,GAAG;AAAEE,MAAAA,aAAa,EAAE,CAAC,CAAD,GAAKJ,UAAtB;AAAkCK,MAAAA,iBAAiB,EAAE;AAArD,KAAH,GAAgE,EAAtF;AACA,UAAMC,KAAK,GAAGJ,QAAQ,GAAG;AAAEE,MAAAA,aAAa,EAAE,CAAC,CAAD,GAAKH,SAAtB;AAAiCI,MAAAA,iBAAiB,EAAE;AAApD,KAAH,GAA+D,EAArF;AAEA,UAAME,KAAK,GAAGjC,GAAG,GACdkC,EADW,CACR,CADQ,EAEXC,OAFW,CAEH;AAAEC,MAAAA,UAAU,EAAE;AAAd,KAFG,EAGXC,KAHW,CAGL,CAAC1B,CAAD,EAAI2B,CAAJ,KAAU;AACf,YAAMC,CAAC,GAAG5B,CAAV;AACA4B,MAAAA,CAAC,CAACN,KAAF,GAAUK,CAAV;AACA,aAAOC,CAAP;AACD,KAPW,EAQXC,QARW,CAQF7B,CAAC,IAAIA,CAAC,CAACsB,KARL,CAAd;AAUA,UAAMQ,KAAK,GAAGzC,GAAG,GACdkC,EADW,CACR,CADQ,EAEXC,OAFW,CAEH;AAAEC,MAAAA,UAAU,EAAE;AAAd,KAFG,EAGXC,KAHW,CAGL,CAAC1B,CAAD,EAAI2B,CAAJ,KAAU;AACf,YAAMC,CAAC,GAAG5B,CAAV;AACA4B,MAAAA,CAAC,CAACE,KAAF,GAAUH,CAAV;AACA,aAAOC,CAAP;AACD,KAPW,EAQXC,QARW,CAQF7B,CAAC,IAAIA,CAAC,CAAC8B,KARL,CAAd;AAUA,UAAMC,cAAc,GAAGT,KAAK,CAACQ,KAAK,CAACnB,WAAD,CAAN,CAA5B;AACA,UAAMqB,cAAc,GAAG9C,8BAA8B,CAAC+C,iBAA/B,CAAiDjC,CAAC,IAAIA,CAAC,CAACC,IAAxD,CAAvB;;AArCO,4BAsC+C+B,cAAc,CAACD,cAAD,CAtC7D;AAAA,UAsCCnB,IAtCD,mBAsCCA,IAtCD;AAAA,UAsCOsB,MAtCP,mBAsCOA,MAtCP;AAAA,UAsCeC,SAtCf,mBAsCeA,SAtCf;AAAA,UAsC0BC,gBAtC1B,mBAsC0BA,gBAtC1B;;AAwCP,UAAMC,KAAK,GAAGF,SAAS,CAAC5C,IAAI,CAACqB,IAAD,CAAL,CAAvB;AACA,UAAM0B,GAAG,GAAGH,SAAS,CAACvB,IAAI,CAAC2B,IAAI,CAACC,GAAL,CAAS,CAAT,EAAY5B,IAAI,CAAC6B,MAAL,GAAc,GAA1B,CAAD,CAAL,CAArB;AACA,UAAMC,QAAQ,GAAG,CAACL,KAAD,EAAQC,GAAR,CAAjB;AAEA,WACE,oBAAC,WAAD;AACE,MAAA,MAAM,EAAE/B,MADV;AAEE,MAAA,KAAK,EAAEO,KAFT;AAGE,MAAA,KAAK,EAAED,KAHT;AAIE,MAAA,MAAM,EAAEX,MAJV;AAKE,MAAA,IAAI,EAAEO,IALR;AAME,MAAA,UAAU,EAAC,MANb;AAOE,MAAA,IAAI,EAAEG,IAPR;AAQE,MAAA,MAAM,EAAEsB,MARV;AASE,MAAA,SAAS,EAAEC,SATb;AAUE,MAAA,gBAAgB,EAAEC,gBAVpB;AAWE,MAAA,QAAQ,EAAEM,QAXZ;AAYE,MAAA,SAAS,EAAEhC,SAZb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAcE,oBAAC,KAAD;AACE,MAAA,CAAC,EAAE,EADL;AAEE,MAAA,CAAC,EAAE,EAFL;AAGE,MAAA,QAAQ,EAAE,EAHZ;AAIE,MAAA,IAAI,EAAC,SAJP;AAKE,MAAA,UAAU,EAAC,WALb;AAME,MAAA,UAAU,EAAC,MANb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAdF,EAsBE,oBAAC,KAAD;AACE,MAAA,CAAC,EAAE,GADL;AAEE,MAAA,CAAC,EAAE,EAFL;AAGE,MAAA,QAAQ,EAAE,EAHZ;AAIE,MAAA,IAAI,EAAC,+BAJP;AAKE,MAAA,UAAU,EAAC,WALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAtBF,EA6BE,oBAAC,KAAD;AAAO,MAAA,EAAE,EAAE,CAAX;AAAc,MAAA,QAAQ,EAAE,CAACV,CAAC,IAAI,CAACA,CAAC,CAAC2C,IAAH,EAAS3C,CAAC,CAAC4C,GAAX,CAAN,CAAxB;AAAgD,MAAA,OAAO,EAAE;AAAEvC,QAAAA,GAAG,EAAE,EAAP;AAAWC,QAAAA,MAAM,EAAE;AAAnB,OAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD;AACE,MAAA,MAAM,EAAC,QADT;AAEE,MAAA,MAAM,EAAC;AAFT,OAGMY,KAHN;AAIE,MAAA,WAAW,EAAER,SAJf;AAKE,MAAA,UAAU,EAAC,WALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADF,EAQE,oBAAC,gBAAD;AACE,MAAA,UAAU,EAAC,WADb;AAEE,MAAA,EAAE,EAAC,QAFL;AAGE,MAAA,MAAM,EAAC,QAHT;AAIE,MAAA,aAAa,EAAEvC,UAAU,CAAC,UAAD,CAJ3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARF,EAcE,oBAAC,gBAAD;AACE,MAAA,UAAU,EAAC,WADb;AAEE,MAAA,EAAE,EAAC,OAFL;AAGE,MAAA,MAAM,EAAC,OAHT;AAIE,MAAA,aAAa,EAAED,MAAM,CAAC,KAAD,CAJvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAdF,EAoBE,oBAAC,KAAD;AACE,MAAA,MAAM,EAAC,OADT;AAEE,MAAA,MAAM,EAAC,OAFT;AAGE,MAAA,KAAK,EAAE;AAHT,OAIMmD,KAJN;AAKE,MAAA,WAAW,EAAEX,SALf;AAME,MAAA,UAAU,EAAC,WANb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OApBF,EA4BE,oBAAC,iBAAD;AACE,MAAA,IAAI,EAAEV,CAAC,IAAKA,CAAC,CAAC6C,KAAF,GAAU7C,CAAC,CAAC8C,IAAZ,GAAmB,SAAnB,GAA+B,SAD7C;AAEE,MAAA,MAAM,EAAE9C,CAAC,IAAKA,CAAC,CAAC6C,KAAF,GAAU7C,CAAC,CAAC8C,IAAZ,GAAmB,SAAnB,GAA+B,SAF/C;AAGE,MAAA,OAAO,EAAE,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA5BF,EAkCE,oBAAC,UAAD;AAAY,MAAA,SAAS,EAAExB,KAAK,CAACO,QAAN,EAAvB;AAAyC,MAAA,MAAM,EAAEP,KAAK,CAACyB,MAAN,EAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAlCF,EAmCE,oBAAC,UAAD;AAAY,MAAA,SAAS,EAAEjB,KAAK,CAACD,QAAN,EAAvB;AAAyC,MAAA,MAAM,EAAEC,KAAK,CAACiB,MAAN,EAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnCF,EAqCE,oBAAC,iBAAD;AACE,MAAA,SAAS,EAAEzB,KAAK,CAACO,QAAN,EADb;AAEE,MAAA,IAAI,EAAEP,KAAK,CAACyB,MAAN,EAFR;AAGE,MAAA,UAAU,EAAC,WAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MArCF,EA0CE,oBAAC,iBAAD;AACE,MAAA,SAAS,EAAEjB,KAAK,CAACD,QAAN,EADb;AAEE,MAAA,IAAI,EAAEC,KAAK,CAACiB,MAAN,EAFR;AAGE,MAAA,UAAU,EAAC,WAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA1CF,EAgDE,oBAAC,aAAD;AACE,MAAA,QAAQ,EAAC,MADX;AAEE,MAAA,MAAM,EAAC,OAFT;AAGE,MAAA,MAAM,EAAC,OAHT;AAIE,MAAA,UAAU,EAAC,WAJb;AAKE,MAAA,SAAS,EAAE/C,CAAC,IAAIA,CAAC,CAAC6C,KALpB;AAME,MAAA,IAAI,EAAE7C,CAAC,IAAKA,CAAC,CAAC6C,KAAF,GAAU7C,CAAC,CAAC8C,IAAZ,GAAmB,SAAnB,GAA+B,SAN7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAhDF,EAwDE,oBAAC,WAAD;AAAa,MAAA,MAAM,EAAE,CAAC,CAAD,EAAI,CAAJ,CAArB;AAA6B,MAAA,UAAU,EAAC,WAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAxDF,EAyDE,oBAAC,oBAAD;AACE,MAAA,MAAM,EAAE,CAAC,CAAD,EAAI,EAAJ,CADV;AAEE,MAAA,UAAU,EAAC,WAFb;AAGE,MAAA,OAAO,EAAE,CACP;AACEE,QAAAA,SAAS,EAAE1B,KAAK,CAACO,QAAN,EADb;AAEEpB,QAAAA,IAAI,EAAEa,KAAK,CAACb,IAAN,EAFR;AAGEsC,QAAAA,MAAM,EAAEzB,KAAK,CAACyB,MAAN,EAHV;AAIEtB,QAAAA,UAAU,EAAEH,KAAK,CAACE,OAAN,GAAgBC;AAJ9B,OADO,EAOP;AACEuB,QAAAA,SAAS,EAAElB,KAAK,CAACD,QAAN,EADb;AAEEpB,QAAAA,IAAI,EAAEqB,KAAK,CAACrB,IAAN,EAFR;AAGEsC,QAAAA,MAAM,EAAEjB,KAAK,CAACiB,MAAN,EAHV;AAIEtB,QAAAA,UAAU,EAAEK,KAAK,CAACN,OAAN,GAAgBC;AAJ9B,OAPO,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAzDF,EA2EE,oBAAC,QAAD;AACE,MAAA,IAAI,EAAE1C,eADR;AAEE,MAAA,IAAI,EAAEiB,CAAC,IAAIA,CAAC,CAACC,IAAF,CAAOgD,OAAP,OAAqB;AAAE;AAFpC;AAGE,MAAA,UAAU,EAAEtD,eAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA3EF,CA7BF,EA8GE,oBAAC,eAAD;AAAiB,MAAA,eAAe,EAAC,WAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA9GF,CADF;AAkHD;;AA/J0D;;AAkK7DH,8BAA8B,CAAC0D,SAA/B,GAA2C;AACzCtC,EAAAA,IAAI,EAAE3C,SAAS,CAACkF,KAAV,CAAgBC,UADmB;AAEzCvC,EAAAA,KAAK,EAAE5C,SAAS,CAACoF,MAAV,CAAiBD,UAFiB;AAGzCtC,EAAAA,KAAK,EAAE7C,SAAS,CAACoF,MAAV,CAAiBD,UAHiB;AAIzC3C,EAAAA,IAAI,EAAExC,SAAS,CAACqF,KAAV,CAAgB,CAAC,KAAD,EAAQ,QAAR,CAAhB,EAAmCF;AAJA,CAA3C;AAOA,eAAe9D,QAAQ,CAACE,8BAAD,CAAvB","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport { format } from 'd3-format'\nimport { timeFormat } from 'd3-time-format'\nimport { ChartCanvas, Chart } from 'react-stockcharts'\nimport { CandlestickSeries, LineSeries } from 'react-stockcharts/lib/series'\nimport { XAxis, YAxis } from 'react-stockcharts/lib/axes'\nimport {\n  CrossHairCursor,\n  EdgeIndicator,\n  CurrentCoordinate,\n  MouseCoordinateX,\n  MouseCoordinateY,\n} from 'react-stockcharts/lib/coordinates'\nimport { LabelAnnotation, Label, Annotate } from 'react-stockcharts/lib/annotation'\nimport { discontinuousTimeScaleProvider } from 'react-stockcharts/lib/scale'\nimport { OHLCTooltip, MovingAverageTooltip } from 'react-stockcharts/lib/tooltip'\nimport { ema } from 'react-stockcharts/lib/indicator'\nimport { fitWidth } from 'react-stockcharts/lib/helper'\nimport { last } from 'react-stockcharts/lib/utils'\n\nclass CandleStickChartWithAnnotation extends React.Component {\n  render() {\n    const annotationProps = {\n      y: ({ yScale }) => yScale.range()[0],\n      tooltip: d => timeFormat('%B')(d.date),\n    }\n\n    const margin = { left: 0, right: 50, top: 10, bottom: 20 }\n    const height = 400\n    const { type, zoomEvent, data: initialData, width, ratio } = this.props\n    const gridHeight = height - margin.top - margin.bottom\n    const gridWidth = width - margin.left - margin.right\n\n    const showGrid = true\n    const xGrid = showGrid ? { innerTickSize: -1 * gridHeight, tickStrokeOpacity: 0.1 } : {}\n    const yGrid = showGrid ? { innerTickSize: -1 * gridWidth, tickStrokeOpacity: 0.1 } : {}\n\n    const ema20 = ema()\n      .id(0)\n      .options({ windowSize: 20 })\n      .merge((d, c) => {\n        const b = d\n        b.ema20 = c\n        return b\n      })\n      .accessor(d => d.ema20)\n\n    const ema50 = ema()\n      .id(2)\n      .options({ windowSize: 50 })\n      .merge((d, c) => {\n        const b = d\n        b.ema50 = c\n        return b\n      })\n      .accessor(d => d.ema50)\n\n    const calculatedData = ema20(ema50(initialData))\n    const xScaleProvider = discontinuousTimeScaleProvider.inputDateAccessor(d => d.date)\n    const { data, xScale, xAccessor, displayXAccessor } = xScaleProvider(calculatedData)\n\n    const start = xAccessor(last(data))\n    const end = xAccessor(data[Math.max(0, data.length - 150)])\n    const xExtents = [start, end]\n\n    return (\n      <ChartCanvas\n        height={height}\n        ratio={ratio}\n        width={width}\n        margin={margin}\n        type={type}\n        seriesName=\"MSFT\"\n        data={data}\n        xScale={xScale}\n        xAccessor={xAccessor}\n        displayXAccessor={displayXAccessor}\n        xExtents={xExtents}\n        zoomEvent={zoomEvent}\n      >\n        <Label\n          x={38}\n          y={30}\n          fontSize={18}\n          text=\"BTC-USD\"\n          fontFamily=\"monospace\"\n          fontWeight=\"bold\"\n        />\n        <Label\n          x={100}\n          y={50}\n          fontSize={12}\n          text=\"Clean UI React Admin Template\"\n          fontFamily=\"monospace\"\n        />\n        <Chart id={1} yExtents={[d => [d.high, d.low]]} padding={{ top: 10, bottom: 20 }}>\n          <XAxis\n            axisAt=\"bottom\"\n            orient=\"bottom\"\n            {...xGrid}\n            zoomEnabled={zoomEvent}\n            fontFamily=\"monospace\"\n          />\n          <MouseCoordinateX\n            fontFamily=\"monospace\"\n            at=\"bottom\"\n            orient=\"bottom\"\n            displayFormat={timeFormat('%Y-%m-%d')}\n          />\n          <MouseCoordinateY\n            fontFamily=\"monospace\"\n            at=\"right\"\n            orient=\"right\"\n            displayFormat={format('.2f')}\n          />\n          <YAxis\n            axisAt=\"right\"\n            orient=\"right\"\n            ticks={5}\n            {...yGrid}\n            zoomEnabled={zoomEvent}\n            fontFamily=\"monospace\"\n          />\n          <CandlestickSeries\n            fill={d => (d.close > d.open ? '#c23f3f' : '#06a45b')}\n            stroke={d => (d.close > d.open ? '#c23f3f' : '#06a45b')}\n            opacity={1}\n          />\n\n          <LineSeries yAccessor={ema20.accessor()} stroke={ema20.stroke()} />\n          <LineSeries yAccessor={ema50.accessor()} stroke={ema50.stroke()} />\n\n          <CurrentCoordinate\n            yAccessor={ema20.accessor()}\n            fill={ema20.stroke()}\n            fontFamily=\"monospace\"\n          />\n          <CurrentCoordinate\n            yAccessor={ema50.accessor()}\n            fill={ema50.stroke()}\n            fontFamily=\"monospace\"\n          />\n\n          <EdgeIndicator\n            itemType=\"last\"\n            orient=\"right\"\n            edgeAt=\"right\"\n            fontFamily=\"monospace\"\n            yAccessor={d => d.close}\n            fill={d => (d.close > d.open ? '#c23f3f' : '#06a45b')}\n          />\n          <OHLCTooltip origin={[0, 0]} fontFamily=\"monospace\" />\n          <MovingAverageTooltip\n            origin={[5, 60]}\n            fontFamily=\"monospace\"\n            options={[\n              {\n                yAccessor: ema20.accessor(),\n                type: ema20.type(),\n                stroke: ema20.stroke(),\n                windowSize: ema20.options().windowSize,\n              },\n              {\n                yAccessor: ema50.accessor(),\n                type: ema50.type(),\n                stroke: ema50.stroke(),\n                windowSize: ema50.options().windowSize,\n              },\n            ]}\n          />\n          <Annotate\n            with={LabelAnnotation}\n            when={d => d.date.getDate() === 1 /* some condition */}\n            usingProps={annotationProps}\n          />\n        </Chart>\n        <CrossHairCursor strokeDasharray=\"ShortDash\" />\n      </ChartCanvas>\n    )\n  }\n}\n\nCandleStickChartWithAnnotation.propTypes = {\n  data: PropTypes.array.isRequired,\n  width: PropTypes.number.isRequired,\n  ratio: PropTypes.number.isRequired,\n  type: PropTypes.oneOf(['svg', 'hybrid']).isRequired,\n}\n\nexport default fitWidth(CandleStickChartWithAnnotation)\n"]},"metadata":{},"sourceType":"module"}